<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Match Game</title>
    <style>
        body {
            font-family: sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background-color: #f0f0f0;
            margin: 0;
        }

        h1 {
            color: #333;
            margin-bottom: 20px;
        }

        #game-info {
            margin-bottom: 20px;
            font-size: 1.2em;
            color: #555;
        }

        #game-board {
            display: grid;
            grid-template-columns: repeat(5, 80px); /* 5 columns */
            grid-template-rows: repeat(4, 80px);    /* 4 rows */
            gap: 10px;
            perspective: 1000px; /* For 3D flip effect */
        }

        .card {
            width: 80px;
            height: 80px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            cursor: pointer;
            background-color: transparent;
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            font-size: 40px; /* Emoji size */
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .card-face-front {
            background-color: #4a90e2; /* Blue front */
            color: white;
            /* Simple shape - could use content: 'â– ' or similar if needed */
        }

        .card-face-back {
            background-color: #fff; /* White back */
            color: #333;
            transform: rotateY(180deg);
        }

        button {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 1em;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #4CAF50;
            color: white;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #45a049;
        }

        .matched {
            /* Optional: slightly different style for matched pairs */
            opacity: 0.7;
            cursor: default;
        }

        /* Simple square and triangle shapes if emojis fail */
        .shape-square::before { content: 'â– '; font-size: 50px; color: #ff6347; }
        .shape-triangle::before { content: 'â–²'; font-size: 50px; color: #ffd700; }

    </style>
</head>
<body>

    <h1>Image Match Madness</h1>
    <div id="game-info">
        Moves: <span id="moves-count">0</span> | Matches: <span id="matches-count">0</span>
    </div>
    <div id="game-board">
        <!-- Cards will be generated by JavaScript -->
    </div>
    <button id="reset-button">Reset Game</button>

    <script>
        const gameBoard = document.getElementById('game-board');
        const movesCountSpan = document.getElementById('moves-count');
        const matchesCountSpan = document.getElementById('matches-count');
        const resetButton = document.getElementById('reset-button');

        // Emojis representing the provided images
        // ðŸ» (Freddy), ðŸ¦ (Bird suit), ðŸšŒ (Bus), ðŸ¿ï¸ (Chipmunk), ðŸ’¥ (Explosion),
        // ðŸŽ§ (Anime girl), ðŸŽ (Horse), ðŸŒ¹ (Rose), ðŸ•¶ï¸ (Cat glasses), ðŸ©¸ (Bloody helmet)
        const items = ['ðŸ»', 'ðŸ¦', 'ðŸšŒ', 'ðŸ¿ï¸', 'ðŸ’¥', 'ðŸŽ§', 'ðŸŽ', 'ðŸŒ¹', 'ðŸ•¶ï¸', 'ðŸ©¸'];
        let cards = [];
        let firstCard = null;
        let secondCard = null;
        let lockBoard = false; // Prevent clicking more than 2 cards
        let moves = 0;
        let matches = 0;
        const totalPairs = items.length;

        // Duplicate items array to create pairs
        let gameItems = [...items, ...items];

        // Fisher-Yates (aka Knuth) Shuffle
        function shuffle(array) {
            let currentIndex = array.length, randomIndex;
            while (currentIndex !== 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                [array[currentIndex], array[randomIndex]] = [
                    array[randomIndex], array[currentIndex]];
            }
            return array;
        }

        // Create Card HTML
        function createCardElement(item) {
            const card = document.createElement('div');
            card.classList.add('card');
            card.dataset.item = item; // Store item identity

            // Card Front (Visible initially)
            const cardFaceFront = document.createElement('div');
            cardFaceFront.classList.add('card-face', 'card-face-front');
            // You could add a simple shape or question mark here if desired
            // cardFaceFront.innerHTML = '?'; // Example

            // Card Back (Hidden initially, shows item)
            const cardFaceBack = document.createElement('div');
            cardFaceBack.classList.add('card-face', 'card-face-back');
            cardFaceBack.textContent = item; // Display the emoji

            card.appendChild(cardFaceFront);
            card.appendChild(cardFaceBack);

            card.addEventListener('click', handleCardClick);
            return card;
        }

        // Setup Game Board
        function setupGame() {
            // Reset variables
            moves = 0;
            matches = 0;
            firstCard = null;
            secondCard = null;
            lockBoard = false;
            updateInfo();
            gameBoard.innerHTML = ''; // Clear previous board
            cards = []; // Clear cards array

            // Shuffle items
            const shuffledItems = shuffle(gameItems);

            // Create and append cards
            shuffledItems.forEach(item => {
                const cardElement = createCardElement(item);
                gameBoard.appendChild(cardElement);
                cards.push(cardElement);
            });
        }

        // Handle Card Click Logic
        function handleCardClick() {
            if (lockBoard) return; // Board locked, do nothing
            if (this === firstCard) return; // Clicked the same card twice

            this.classList.add('is-flipped');

            if (!firstCard) {
                // First card clicked
                firstCard = this;
                return;
            }

            // Second card clicked
            secondCard = this;
            lockBoard = true; // Lock board while checking
            moves++;
            updateInfo();

            checkForMatch();
        }

        // Check if two flipped cards match
        function checkForMatch() {
            const isMatch = firstCard.dataset.item === secondCard.dataset.item;

            if (isMatch) {
                disableCards();
                matches++;
                updateInfo();
                checkWinCondition();
            } else {
                unflipCards();
            }
        }

        // Disable matched cards
        function disableCards() {
            firstCard.removeEventListener('click', handleCardClick);
            secondCard.removeEventListener('click', handleCardClick);
            firstCard.classList.add('matched'); // Optional visual cue
            secondCard.classList.add('matched');

            resetBoard();
        }

        // Unflip non-matching cards after a delay
        function unflipCards() {
            setTimeout(() => {
                if (firstCard) firstCard.classList.remove('is-flipped');
                if (secondCard) secondCard.classList.remove('is-flipped');
                resetBoard();
            }, 1000); // 1 second delay
        }

        // Reset card selections and unlock board
        function resetBoard() {
            [firstCard, secondCard] = [null, null];
            lockBoard = false;
        }

        // Update game info display
        function updateInfo() {
            movesCountSpan.textContent = moves;
            matchesCountSpan.textContent = matches;
        }

        // Check if all pairs are matched
        function checkWinCondition() {
            if (matches === totalPairs) {
                setTimeout(() => {
                    alert(`Congratulations! You won in ${moves} moves!`);
                }, 500); // Short delay before alert
            }
        }

        // Reset Button Event Listener
        resetButton.addEventListener('click', setupGame);

        // Initial game setup on page load
        document.addEventListener('DOMContentLoaded', setupGame);

    </script>

</body>
</html>