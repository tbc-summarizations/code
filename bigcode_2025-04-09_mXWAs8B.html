<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PenguinAI Proxy Guide & Sentence Analyzer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        h1, h2, h3 {
            color: #0056b3;
        }
        .container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .instructions {
            margin-bottom: 20px;
            border-bottom: 1px solid #ccc;
            padding-bottom: 20px;
        }
        .analyzer {
            margin-top: 20px;
        }
        #sentenceInput {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .meter-container {
            display: flex;
            flex-direction: column;
            margin-bottom: 10px;
        }
        .meter-label {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .meter {
            background-color: #e0e0e0;
            height: 20px;
            width: 100%;
            border-radius: 4px;
            position: relative;
        }
        .meter-level {
            background-color: #4CAF50;
            height: 100%;
            border-radius: 4px;
            width: 0%; /* Will be updated by JavaScript */
            position: absolute;
            text-align: center;
            color: white;
            line-height: 20px;
        }
        .emoji-indicator {
            position: absolute;
            right: 5px;
            top: -2px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>PenguinAI Proxy Guide</h1>
        <div class="instructions">
            <h2>How to Use PenguinAI Proxy</h2>
            <section>
                <h3>1. Find Available Models</h3>
                <p>
                    <strong>Action:</strong> Send a <code>GET</code> request to the <code>/v1/models</code> endpoint <strong>using HTTPS</strong>.
                </p>
                <p>
                    <strong>Correct Endpoint:</strong> <code>https://penguinai.derpygamer2142.com/v1/models</code>
                </p>
                <p>
                    <strong>Example:</strong> <code>curl https://penguinai.derpygamer2142.com/v1/models</code>
                </p>
                <p>
                    <strong>What You Get:</strong> A JSON list of all available AI models. Note the <code>id</code> of the model you want to use (e.g., "model-001").
                </p>
            </section>

            <section>
                <h3>2. Generate Text (Chat Completion)</h3>
                <p>
                    <strong>Action:</strong> Send a <code>POST</code> request to the <code>/v1/chat/completions</code> endpoint <strong>using HTTPS</strong>.
                </p>
                <p>
                    <strong>Correct Endpoint:</strong> <code>https://penguinai.derpygamer2142.com/v1/chat/completions</code>
                </p>
                <p>
                    <strong>Include:</strong> In the request body, send JSON specifying the <code>model</code> (using the ID from step 1) and your <code>messages</code> (your prompt/question).
                </p>
                <p>
                    <strong>Example JSON Body:</strong> <code>{ "model": "llama-3.1-8b-instruct", "messages": [ { "role": "user", "content": "Your prompt here" } ] }</code>
                </p>
                <p>
                    <strong>Example Request:</strong> <code>curl -X POST -H 'Content-Type: application/json' -d '{...}' https://penguinai.derpygamer2142.com/v1/chat/completions</code>
                </p>
                <p>
                    <strong>What You Get:</strong> A JSON response containing the AI's generated text. The actual answer is located in the <code>choices[0].message.content</code> field.
                </p>
            </section>

            <section>
                <h3>Important Note</h3>
                <p><strong>In short: Always use <code>https://penguinai.derpygamer2142.com/...</code> instead of <code>http://penguinai.derpygamer2142.com/...</code> when calling the API from your <code>HTTPS</code> webpage.</strong></p>
            </section>
        </div>

        <div class="analyzer">
            <h2>Sentence Analyzer using PenguinAI</h2>
            <input type="text" id="sentenceInput" placeholder="Enter your sentence here">
            <div id="meters-container">
                <div class="meter-container">
                    <div class="meter-label">Niceness:</div>
                    <div class="meter">
                        <div class="meter-level" id="nicenessMeter"></div>
                        <span class="emoji-indicator" id="nicenessEmoji">üòä</span>
                    </div>
                </div>
                <div class="meter-container">
                    <div class="meter-label">Toxicity:</div>
                    <div class="meter">
                        <div class="meter-level" id="toxicityMeter"></div>
                        <span class="emoji-indicator" id="toxicityEmoji">üò†</span>
                    </div>
                </div>
                <div class="meter-container">
                    <div class="meter-label">Sentiment:</div>
                    <div class="meter">
                        <div class="meter-level" id="sentimentMeter"></div>
                        <span class="emoji-indicator" id="sentimentEmoji">üôÇ</span>
                    </div>
                </div>
                <div class="meter-container">
                    <div class="meter-label">Formality:</div>
                    <div class="meter">
                        <div class="meter-level" id="formalityMeter"></div>
                        <span class="emoji-indicator" id="formalityEmoji">üëî</span>
                    </div>
                </div>
                <div class="meter-container">
                    <div class="meter-label">Politeness:</div>
                    <div class="meter">
                        <div class="meter-level" id="politenessMeter"></div>
                        <span class="emoji-indicator" id="politenessEmoji">üôè</span>
                    </div>
                </div>
                <div class="meter-container">
                    <div class="meter-label">Humor:</div>
                    <div class="meter">
                        <div class="meter-level" id="humorMeter"></div>
                        <span class="emoji-indicator" id="humorEmoji">üòÇ</span>
                    </div>
                </div>
                <div class="meter-container">
                    <div class="meter-label">Agreement:</div>
                    <div class="meter">
                        <div class="meter-level" id="agreementMeter"></div>
                        <span class="emoji-indicator" id="agreementEmoji">ü§ù</span>
                    </div>
                </div>
                <div class="meter-container">
                    <div class="meter-label">Excitement:</div>
                    <div class="meter">
                        <div class="meter-level" id="excitementMeter"></div>
                        <span class="emoji-indicator" id="excitementEmoji">üéâ</span>
                    </div>
                </div>
                <div class="meter-container">
                    <div class="meter-label">Persuasion:</div>
                    <div class="meter">
                        <div class="meter-level" id="persuasionMeter"></div>
                        <span class="emoji-indicator" id="persuasionEmoji">üì£</span>
                    </div>
                </div>
                <div class="meter-container">
                    <div class="meter-label">Informativeness:</div>
                    <div class="meter">
                        <div class="meter-level" id="informativenessMeter"></div>
                        <span class="emoji-indicator" id="informativenessEmoji">üìö</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const sentenceInput = document.getElementById('sentenceInput');
        const nicenessMeter = document.getElementById('nicenessMeter');
        const toxicityMeter = document.getElementById('toxicityMeter');
        const sentimentMeter = document.getElementById('sentimentMeter');
        const formalityMeter = document.getElementById('formalityMeter');
        const politenessMeter = document.getElementById('politenessMeter');
        const humorMeter = document.getElementById('humorMeter');
        const agreementMeter = document.getElementById('agreementMeter');
        const excitementMeter = document.getElementById('excitementMeter');
        const persuasionMeter = document.getElementById('persuasionMeter');
        const informativenessMeter = document.getElementById('informativenessMeter');

        const nicenessEmoji = document.getElementById('nicenessEmoji');
        const toxicityEmoji = document.getElementById('toxicityEmoji');
        const sentimentEmoji = document.getElementById('sentimentEmoji');
        const formalityEmoji = document.getElementById('formalityEmoji');
        const politenessEmoji = document.getElementById('politenessEmoji');
        const humorEmoji = document.getElementById('humorEmoji');
        const agreementEmoji = document.getElementById('agreementEmoji');
        const excitementEmoji = document.getElementById('excitementEmoji');
        const persuasionEmoji = document.getElementById('persuasionEmoji');
        const informativenessEmoji = document.getElementById('informativenessEmoji');


        sentenceInput.addEventListener('input', function() {
            const sentence = sentenceInput.value;
            if (sentence) {
                analyzeSentence(sentence);
            } else {
                resetMeters();
            }
        });

        async function analyzeSentence(sentence) {
            const apiUrl = 'https://penguinai.derpygamer2142.com/v1/chat/completions';
            const modelName = 'llama-3.1-8b-instruct';

            const requestBody = {
                model: modelName,
                messages: [
                    {
                        role: 'user',
                        content: `Analyze the following sentence and provide a JSON response with 10 meter values (0.0 to 1.0) for niceness, toxicity, sentiment, formality, politeness, humor, agreement, excitement, persuasion, and informativeness.  The sentence is: "${sentence}"`
                    }
                ]
            };

            try {
                // Commented out for non-functional example - replace with actual fetch when ready
                // const response = await fetch(apiUrl, {
                //     method: 'POST',
                //     headers: {
                //         'Content-Type': 'application/json'
                //     },
                //     body: JSON.stringify(requestBody)
                // });

                // if (!response.ok) {
                //     throw new Error(`HTTP error! status: ${response.status}`);
                // }

                // const data = await response.json();
                // const analysis = JSON.parse(data.choices[0].message.content); // Assuming model returns JSON

                // Mock data for demonstration:
                const analysis = {
                    "niceness": Math.random(),
                    "toxicity": Math.random(),
                    "sentiment": Math.random(),
                    "formality": Math.random(),
                    "politeness": Math.random(),
                    "humor": Math.random(),
                    "agreement": Math.random(),
                    "excitement": Math.random(),
                    "persuasion": Math.random(),
                    "informativeness": Math.random()
                };


                updateMeters(analysis);


            } catch (error) {
                console.error('Error analyzing sentence:', error);
                alert('Failed to analyze sentence. Please check console for details.');
                resetMeters(); // Reset meters on error for clarity
            }
        }

        function updateMeters(analysis) {
            nicenessMeter.style.width = `${analysis.niceness * 100}%`;
            toxicityMeter.style.width = `${analysis.toxicity * 100}%`;
            sentimentMeter.style.width = `${analysis.sentiment * 100}%`;
            formalityMeter.style.width = `${analysis.formality * 100}%`;
            politenessMeter.style.width = `${analysis.politeness * 100}%`;
            humorMeter.style.width = `${analysis.humor * 100}%`;
            agreementMeter.style.width = `${analysis.agreement * 100}%`;
            excitementMeter.style.width = `${analysis.excitement * 100}%`;
            persuasionMeter.style.width = `${analysis.persuasion * 100}%`;
            informativenessMeter.style.width = `${analysis.informativeness * 100}%`;

            nicenessEmoji.textContent = getEmojiForValue(analysis.niceness);
            toxicityEmoji.textContent = getEmojiForValue(analysis.toxicity, true); // Pass true for reverse logic
            sentimentEmoji.textContent = getEmojiForValue(analysis.sentiment);
            formalityEmoji.textContent = getEmojiForValue(analysis.formality);
            politenessEmoji.textContent = getEmojiForValue(analysis.politeness);
            humorEmoji.textContent = getEmojiForValue(analysis.humor);
            agreementEmoji.textContent = getEmojiForValue(analysis.agreement);
            excitementEmoji.textContent = getEmojiForValue(analysis.excitement);
            persuasionEmoji.textContent = getEmojiForValue(analysis.persuasion);
            informativenessEmoji.textContent = getEmojiForValue(analysis.informativeness);
        }

        function resetMeters() {
            nicenessMeter.style.width = '0%';
            toxicityMeter.style.width = '0%';
            sentimentMeter.style.width = '0%';
            formalityMeter.style.width = '0%';
            politenessMeter.style.width = '0%';
            humorMeter.style.width = '0%';
            agreementMeter.style.width = '0%';
            excitementMeter.style.width = '0%';
            persuasionMeter.style.width = '0%';
            informativenessMeter.style.width = '0%';

            nicenessEmoji.textContent = 'üòä';
            toxicityEmoji.textContent = 'üò†';
            sentimentEmoji.textContent = 'üôÇ';
            formalityEmoji.textContent = 'üëî';
            politenessEmoji.textContent = 'üôè';
            humorEmoji.textContent = 'üòÇ';
            agreementEmoji.textContent = 'ü§ù';
            excitementEmoji.textContent = 'üéâ';
            persuasionEmoji.textContent = 'üì£';
            informativenessEmoji.textContent = 'üìö';
        }

        function getEmojiForValue(value, reverseLogic = false) {
            if (reverseLogic) value = 1 - value; // Reverse logic for toxicity (higher value = less toxic, visually)

            if (value > 0.8) return 'üü¢';
            if (value > 0.6) return 'üü°';
            if (value > 0.4) return 'üü†';
            return 'üî¥';
        }


        resetMeters(); // Initialize meters to zero on page load
    </script>
</body>
</html>